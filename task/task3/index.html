
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Tugas 2 : Crawling dan Struktur Mining &#8212; Documentation of PPW</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'task/task3/index';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Tugas 3 Preprocessing" href="../task4/index.html" />
    <link rel="prev" title="Tugas 1 Crawling Sprnger" href="../task2/index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/myPhoto.jpg" class="logo__image only-light" alt="Documentation of PPW - Home"/>
    <script>document.write(`<img src="../../_static/myPhoto.jpg" class="logo__image only-dark" alt="Documentation of PPW - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Selamat Datang di Website Catatan & Tugas PPW
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Tugas</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../task1/index.html">Profil</a></li>

<li class="toctree-l1"><a class="reference internal" href="../task2/index.html">Tugas 1 Crawling Sprnger</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Tugas 2 : Crawling dan Struktur Mining</a></li>
<li class="toctree-l1"><a class="reference internal" href="../task4/index.html">Tugas 3 Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../task5/index.html">Tugas 4 TF-IDF W2V dan Modelling</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">UTS</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../task6/index.html">UTS klasifikasi pada data berita dengan ektraksi fitur menggunakan LDA</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/willyChairullah/PPW" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/willyChairullah/PPW/issues/new?title=Issue%20on%20page%20%2Ftask/task3/index.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/task/task3/index.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Tugas 2 : Crawling dan Struktur Mining</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#crawling-pta-trunojoyo">Crawling PTA Trunojoyo</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-package">install package</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-library">import library</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#proses-crawling-pta">Proses Crawling PTA</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menjalankan-fungsi-crawling">Menjalankan fungsi crawling</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#memuat-dan-menampilkan-hasil-crawling">Memuat dan menampilkan hasil crawling</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#crawling-website-berita-online-kompas">Crawling Website Berita Online (kompas)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#persiapan-library">Persiapan Library</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#membuat-fungsi-untuk-persiapan-crawling">Membuat Fungsi untuk Persiapan Crawling</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crawling-data">Crawling Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#konversi-ke-dalam-data-frame">Konversi ke dalam Data Frame</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#save-data-to-csv">Save data to CSV</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#web-structur-mining">Web Structur Mining</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Import Library</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inisialisasi-variabel-global">Inisialisasi Variabel Global</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fungsi-crawling">Fungsi Crawling</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#eksekusi-crawling">Eksekusi Crawling</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#konversi-ke-dataframe-simpan-ke-csv">Konversi ke DataFrame &amp; Simpan ke CSV</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-graph-dengan-url-asli">Visualisasi Graph dengan URL Asli</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="tugas-2-crawling-dan-struktur-mining">
<h1>Tugas 2 : Crawling dan Struktur Mining<a class="headerlink" href="#tugas-2-crawling-dan-struktur-mining" title="Link to this heading">#</a></h1>
<p>Pada tugas ini diminta untuk mencoba crawling pada website PTA Trunojoyo dan berita online serta melakukan struktur web mining</p>
<p>Penulis:</p>
<ul class="simple">
<li><p>Nama : Willy Chairullah Fauzi Putra</p></li>
<li><p>NIM : 220411100045</p></li>
<li><p>Kelas: PPW</p></li>
</ul>
<section id="crawling-pta-trunojoyo">
<h2>Crawling PTA Trunojoyo<a class="headerlink" href="#crawling-pta-trunojoyo" title="Link to this heading">#</a></h2>
<section id="install-package">
<h3>install package<a class="headerlink" href="#install-package" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># %pip install builtwith</span>
<span class="c1"># %pip install requests </span>
<span class="c1"># %pip install beautifulsoup4 </span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="import-library">
<h3>import library<a class="headerlink" href="#import-library" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bs4</span><span class="w"> </span><span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="proses-crawling-pta">
<h3>Proses Crawling PTA<a class="headerlink" href="#proses-crawling-pta" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;penulis&quot;</span><span class="p">:</span> <span class="p">[],</span> <span class="s2">&quot;judul&quot;</span><span class="p">:</span> <span class="p">[],</span> <span class="s2">&quot;abstrak_indo&quot;</span><span class="p">:</span> <span class="p">[],</span> <span class="s2">&quot;abstrak_english&quot;</span><span class="p">:</span> <span class="p">[],</span> <span class="s2">&quot;pembimbing_pertama&quot;</span><span class="p">:</span> <span class="p">[],</span> <span class="s2">&quot;pembimbing_kedua&quot;</span><span class="p">:</span> <span class="p">[],</span> <span class="s2">&quot;prodi&quot;</span><span class="p">:</span> <span class="p">[]}</span>

<span class="k">def</span><span class="w"> </span><span class="nf">pta</span><span class="p">():</span>
    <span class="n">byProd</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">beforeProdiFound</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">prodiFound</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="c1"># Hilangkan kondisi byProd jika ingin crawling semua</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">prodiFound</span> <span class="ow">or</span> <span class="n">beforeProdiFound</span><span class="p">)</span> <span class="ow">and</span> <span class="n">byProd</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="p">:</span>
        <span class="n">beforeProdiFound</span> <span class="o">=</span> <span class="n">prodiFound</span>

        <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://pta.trunojoyo.ac.id/c_search/byProd/</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">byProd</span><span class="p">)</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="n">request</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">content</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>

        <span class="n">prodi_element</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="s1">&#39;h2:contains(&quot;Journal Jurusan&quot;)&#39;</span><span class="p">)</span>

        <span class="c1"># Pastikan untuk memeriksa apakah ada nama prodi</span>
        <span class="k">if</span> <span class="n">prodi_element</span><span class="p">:</span>
            <span class="n">prodi</span> <span class="o">=</span> <span class="n">prodi_element</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; Jurusan &#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">prodiFound</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="n">prodi</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">prodiFound</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">byProd</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">prodi</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">jurnalFound</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">pageProd</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="n">jurnal_ke</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="c1"># Hilangkan kondisi pageProd jika ingin crawling semua</span>
        <span class="k">while</span> <span class="n">jurnalFound</span> <span class="ow">and</span> <span class="n">pageProd</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>

            <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://pta.trunojoyo.ac.id/c_search/byProd/</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">byProd</span><span class="p">,</span><span class="n">pageProd</span><span class="p">)</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">request</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">content</span>
            <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>

            <span class="n">jurnals</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;li[data-cat=&quot;#luxury&quot;]&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">jurnals</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">jurnalFound</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="c1"># Menggunakan while loop untuk memproses jurnal</span>
            <span class="n">jurnal_index</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="n">jurnal_index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">jurnals</span><span class="p">):</span>
                <span class="n">jurnal</span> <span class="o">=</span> <span class="n">jurnals</span><span class="p">[</span><span class="n">jurnal_index</span><span class="p">]</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">jurnal</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="s1">&#39;a.gray.button&#39;</span><span class="p">)[</span><span class="s1">&#39;href&#39;</span><span class="p">])</span>
                    <span class="n">soup1</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>

                    <span class="n">isi</span> <span class="o">=</span> <span class="n">soup1</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="s1">&#39;div#content_journal&#39;</span><span class="p">)</span>

                    <span class="n">judul</span> <span class="o">=</span> <span class="n">isi</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="s1">&#39;a.title&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>

                    <span class="n">penulis</span> <span class="o">=</span> <span class="n">isi</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="s1">&#39;span:contains(&quot;Penulis&quot;)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; : &#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>

                    <span class="n">pembimbing_pertama</span> <span class="o">=</span> <span class="n">isi</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="s1">&#39;span:contains(&quot;Dosen Pembimbing I&quot;)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; : &#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>

                    <span class="n">pembimbing_kedua</span> <span class="o">=</span> <span class="n">isi</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="s1">&#39;span:contains(&quot;Dosen Pembimbing II&quot;)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; :&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>

                    <span class="n">abstrak</span> <span class="o">=</span> <span class="n">isi</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;p[align=&quot;justify&quot;]&#39;</span><span class="p">)</span>
                    <span class="c1"># Mengambil abstrak Indonesia dan Inggris</span>
                    <span class="n">abstrak_indo</span> <span class="o">=</span> <span class="n">abstrak</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">abstrak</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="s2">&quot;No Indonesian abstract&quot;</span>
                    <span class="n">abstrak_english</span> <span class="o">=</span> <span class="n">abstrak</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">abstrak</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="s2">&quot;No English abstract&quot;</span>

                    <span class="n">data</span><span class="p">[</span><span class="s2">&quot;penulis&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">penulis</span><span class="p">)</span>
                    <span class="n">data</span><span class="p">[</span><span class="s2">&quot;judul&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">judul</span><span class="p">)</span>
                    <span class="n">data</span><span class="p">[</span><span class="s2">&quot;pembimbing_pertama&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pembimbing_pertama</span><span class="p">)</span>
                    <span class="n">data</span><span class="p">[</span><span class="s2">&quot;pembimbing_kedua&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pembimbing_kedua</span><span class="p">)</span>
                    <span class="n">data</span><span class="p">[</span><span class="s2">&quot;abstrak_indo&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">abstrak_indo</span><span class="p">)</span>
                    <span class="n">data</span><span class="p">[</span><span class="s2">&quot;abstrak_english&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">abstrak_english</span><span class="p">)</span>
                    <span class="n">data</span><span class="p">[</span><span class="s2">&quot;prodi&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prodi</span><span class="p">)</span>

                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">jurnal_ke</span><span class="si">}</span><span class="s2">  Berhasil crawl: </span><span class="si">{</span><span class="n">judul</span><span class="p">[:</span><span class="mi">50</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>

                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Error processing jurnal </span><span class="si">{</span><span class="n">jurnal_index</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="c1"># Pindah Jurnal</span>
                <span class="n">jurnal_index</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">jurnal_ke</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="c1"># Pindah Pagination / Halaman</span>
            <span class="n">pageProd</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="c1"># Mengubah kondisi Jurnal True</span>
        <span class="n">jurnalFound</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="c1"># Pindah Prodi</span>
        <span class="n">byProd</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;pta.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Data berhasil disimpan: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="si">}</span><span class="s2"> records&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Kolom: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="menjalankan-fungsi-crawling">
<h3>Menjalankan fungsi crawling<a class="headerlink" href="#menjalankan-fungsi-crawling" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

<span class="n">df_result</span> <span class="o">=</span> <span class="n">pta</span><span class="p">()</span>

<span class="n">end_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Waktu total crawling: </span><span class="si">{</span><span class="p">(</span><span class="n">end_time</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start_time</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> detik&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Rata-rata per record: </span><span class="si">{</span><span class="p">(</span><span class="n">end_time</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start_time</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">df_result</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> detik&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1. Ilmu Hukum
1  Berhasil crawl: Implementasi Fungsi Legislasi Dewan Perwakilan Rak...
2  Berhasil crawl: Pertanggungjawaban Pidana Direksi BUMN (Persero)
...
3  Berhasil crawl: Analisis Terhadap Kekosongan Hukum dalam Pengawasa...
4  Berhasil crawl: PERLINDUNGAN HUKUM BAGI KONSUMEN ATAS PRODUK ELEKT...
5  Berhasil crawl: TELAAH  KRITIS TENTANG ALASAN HUKUM YANG DIGUNAKAN...
2. Teknologi Industri Pertanian
1  Berhasil crawl: Sifat Fisik dan Profil Gelatinisasi Tepung Uwi Ung...
2  Berhasil crawl: PENGARUH KONSENTRASI FLOKULAN (MAGNAFLOC LT 27 P) ...
3  Berhasil crawl: Optimasi Penggunaan Tepung Labu Kuning dan Gum Ara...
4  Berhasil crawl: Kondisi Optimum Pembuatan Cup Cake Tersubstitusi T...
5  Berhasil crawl: ANALISIS FINANSIAL PADA PRODUKSI ROTI TAWAR MENGGU...
3. Agribisnis
1  Berhasil crawl: PROSPEK USAHA BAKSO IKAN DI PULAU MANDANGIN KABUPA...
2  Berhasil crawl: Analisis Dampak Pola Kemitraan Terhadap Pendapatan...
3  Berhasil crawl: Pemanfaatan Modal Sosial Usahatani Tembakau di Des...
4  Berhasil crawl: ANALISIS PERILAKU KONSUMEN PADA MAHASISWA PEROKOK ...
5  Berhasil crawl: ANALISIS KELAYAKAN DAN STRATEGI PENGEMBANGAN USAHA...

Data berhasil disimpan: 15 records
Kolom: [&#39;penulis&#39;, &#39;judul&#39;, &#39;abstrak_indo&#39;, &#39;abstrak_english&#39;, &#39;pembimbing_pertama&#39;, &#39;pembimbing_kedua&#39;, &#39;prodi&#39;]

Waktu total crawling: 29.79 detik
Rata-rata per record: 1.99 detik
</pre></div>
</div>
</div>
</div>
</section>
<section id="memuat-dan-menampilkan-hasil-crawling">
<h3>Memuat dan menampilkan hasil crawling<a class="headerlink" href="#memuat-dan-menampilkan-hasil-crawling" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;pta_all.csv&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== STATISTIK HASIL CRAWLING ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total records: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Kolom: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="c1"># Statistik per prodi</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== DISTRIBUSI PER PRODI ===&quot;</span><span class="p">)</span>
<span class="n">prodi_counts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;prodi&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">prodi_counts</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="c1"># Contoh data</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== CONTOH DATA ===&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">))):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Record </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Prodi: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;prodi&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Judul: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;judul&#39;</span><span class="p">][:</span><span class="mi">80</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Penulis: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;penulis&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Abstrak Indo: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;abstrak_indo&#39;</span><span class="p">][:</span><span class="mi">100</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">80</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== STATISTIK HASIL CRAWLING ===
Total records: 14677
Kolom: [&#39;penulis&#39;, &#39;judul&#39;, &#39;abstrak_indo&#39;, &#39;abstrak_english&#39;, &#39;pembimbing_pertama&#39;, &#39;pembimbing_kedua&#39;, &#39;prodi&#39;]

=== DISTRIBUSI PER PRODI ===
prodi
Ilmu Hukum                               1417
Manajemen                                1031
Pgsd                                      913
Akuntansi                                 883
Teknik Informatika                        858
Teknik Industri                           711
Sosiologi                                 677
Ilmu Komunikasi                           674
Sastra Inggris                            665
Ekonomi Pembangunan                       589
Agroteknologi                             577
Teknologi Industri Pertanian              568
Ekonomi Syariah                           561
Agribisnis                                547
Psikologi                                 517
Ilmu Kelautan                             480
Pendidikan Ipa                            417
Hukum Bisnis Syariah                      414
Pendidikan Bhs Dan Sastra Indonesia       365
Pendidikan Informatika                    350
Manajemen Informatika                     280
Pgpaud                                    263
Teknik Elektro                            167
D3 Akuntansi                              151
Mekatronika                               137
Teknik Multimedia Dan Jaringan            131
Magister Akuntansi                         93
D3 Enterpreneurship                        72
Magister Manajemen                         70
Magister Ilmu Hukum                        68
Teknik Mekatronika                         14
Magister Ilmu Ekonomi                       8
Manajemen Sumberdaya Perairan               6
Magister Pengelolaan Sumber Daya Alam       3
Name: count, dtype: int64

=== CONTOH DATA ===

--- Record 1 ---
Prodi: Ilmu Hukum
Judul: Implementasi Fungsi Legislasi Dewan Perwakilan Rakyat Daerah Kabupaten Bangkalan...
Penulis: Dyah Ayu Citra Seza
Abstrak Indo: ABSTRAK

       Implementasi Fungsi Legislasi DPRD Kabupaten Bangkalan Periode 2009-2014 Dalam Pem...
--------------------------------------------------------------------------------

--- Record 2 ---
Prodi: Ilmu Hukum
Judul: Pertanggungjawaban Pidana Direksi BUMN (Persero)
(Anotasi Putusan No. 1144 K/Pi...
Penulis: Maulina Nurlaily
Abstrak Indo: Badan Usaha Milik Negara (BUMN) adalah Badan usaha yang sebagian atau seluruh modalnya dimiliki oleh...
--------------------------------------------------------------------------------

--- Record 3 ---
Prodi: Ilmu Hukum
Judul: Analisis Terhadap Kekosongan Hukum dalam Pengawasan Peredaran Prekursor...
Penulis: Moh. Samsul Hidayat
Abstrak Indo: Kasus narkoba tidak henti-hentinya terdengar di media televisi, radio dan media cetak yang memberita...
--------------------------------------------------------------------------------
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="crawling-website-berita-online-kompas">
<h2>Crawling Website Berita Online (kompas)<a class="headerlink" href="#crawling-website-berita-online-kompas" title="Link to this heading">#</a></h2>
<section id="persiapan-library">
<h3>Persiapan Library<a class="headerlink" href="#persiapan-library" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># %pip install beautifulsoup4</span>
<span class="c1"># %pip install matplotlib</span>
<span class="c1"># %pip install requests</span>
<span class="c1"># %pip install networkx</span>
<span class="c1"># %pip install pandas</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># alat untuk crawling</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">urllib.request</span><span class="w"> </span><span class="kn">import</span> <span class="n">urlopen</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bs4</span><span class="w"> </span><span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="c1"># dataframe</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># monitoring</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tqdm</span><span class="w"> </span><span class="kn">import</span> <span class="n">tqdm</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
</pre></div>
</div>
</div>
</div>
<p><strong>urlopen</strong> berfungsi sebagai http client untuk menangkap dan memproses url</p>
<p><strong>BeautifulSoup</strong> berfungsi untuk mengambil dan memetakan data (parse) dari HTML/XML</p>
<p><strong>pandas</strong> berfungsi untuk memproses data ke dalam dataframe</p>
<p><strong>tqdm</strong> berfungsi untuk melakukan tracking terhadap proses pengambilan setiap berita</p>
</section>
<section id="membuat-fungsi-untuk-persiapan-crawling">
<h3>Membuat Fungsi untuk Persiapan Crawling<a class="headerlink" href="#membuat-fungsi-untuk-persiapan-crawling" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># fungsi untuk mengambil link yang akan dilakukan crawling</span>
<span class="k">def</span><span class="w"> </span><span class="nf">extract_urls</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>

    <span class="n">urls</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;paging__link&quot;</span><span class="p">})</span>
    <span class="n">urls</span> <span class="o">=</span> <span class="p">[</span><span class="n">url</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">urls</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">urls</span>

<span class="c1"># fungsi untuk mengambil isi dari berita</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_content</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="c1"># Menambahkan headers untuk menghindari deteksi sebagai bot</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;User-Agent&#39;</span><span class="p">:</span> <span class="s1">&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36&#39;</span>
    <span class="p">}</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Menggunakan requests dengan headers</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
        
        <span class="n">div</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;read__content&quot;</span><span class="p">})</span>
        <span class="k">if</span> <span class="n">div</span><span class="p">:</span>
            <span class="n">paragraf</span> <span class="o">=</span> <span class="n">div</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">)</span>
            <span class="n">content</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
            <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">paragraf</span><span class="p">:</span>
                <span class="n">content</span> <span class="o">+=</span> <span class="n">p</span><span class="o">.</span><span class="n">text</span>
            <span class="k">return</span> <span class="n">content</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Content not found&quot;</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error accessing </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;Error retrieving content&quot;</span>
</pre></div>
</div>
</div>
</div>
<p>function <strong>extract_urls</strong> digunakan untuk melakukan ekstraksi link url yang memiliki pagination pada halaman awal, sehingga didapat beberapa url yang bisa mengarah ke halaman selanjutnya atau sebelumnya.</p>
<p>function <strong>get_content</strong> digunakan untuk melakukan proses pembuatan isi berita sesuai link berita yang dicari.</p>
</section>
<section id="crawling-data">
<h3>Crawling Data<a class="headerlink" href="#crawling-data" title="Link to this heading">#</a></h3>
<p>Pada tahap ini dilakukan proses crawling data terhadap berita dari url yang akan dicari. Dibutuhkan beberapa variabel yang perlu disiapkan</p>
<ul class="simple">
<li><p><strong>news</strong> digunakan untuk menyimpan data berita hasil crawling</p></li>
<li><p><strong>link</strong> digunakan untuk menentukan url website yang akan dicari</p></li>
<li><p><strong>page</strong> digunakan untuk menentukan jumlah halaman yang akan dicari</p></li>
<li><p><strong>news_per_page</strong> digunakan untuk menentukan jumlah berita per halaman</p></li>
<li><p><strong>urls</strong> digunakan untuk menampung beberapa link yang akan dilakukan proses crawling</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># inisialisasi variabel penampung hasil berita</span>
<span class="n">news_data</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># inisialisasi persiapan untuk crawling berita</span>
<span class="n">link</span> <span class="o">=</span> <span class="s2">&quot;https://indeks.kompas.com&quot;</span>
<span class="c1"># last_url = extract_urls(link).pop()</span>
<span class="c1"># page = last_url.split(&#39;=&#39;).pop() # jumlah halaman secara otomatis</span>
<span class="n">page</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># jumlah halaman secara manual</span>

<span class="c1"># persiapan link yang akan dilakukan crawling</span>
<span class="n">urls</span> <span class="o">=</span> <span class="p">[</span><span class="n">link</span> <span class="o">+</span> <span class="s1">&#39;/?page=&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">page</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>

<span class="c1"># menelusuri semua link yang telah ditentukan</span>
<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">url</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">urls</span><span class="p">):</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>

    <span class="c1"># mengambil data yang diperlukan pada struktur html</span>
    <span class="n">links</span>       <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;article-link&quot;</span><span class="p">})</span>
    <span class="n">titles</span>      <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;h2&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;articleTitle&quot;</span><span class="p">})</span>
    <span class="n">dates</span>       <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;articlePost-date&quot;</span><span class="p">})</span>
    <span class="n">categories</span>  <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;articlePost-subtitle&quot;</span><span class="p">})</span>

    <span class="n">news_per_page</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">links</span><span class="p">)</span> <span class="c1"># berita artikel yang ditampilkan</span>

    <span class="c1"># memasukkan data ke dalam list</span>
    <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">news_per_page</span><span class="p">)):</span>
      <span class="n">news</span> <span class="o">=</span> <span class="p">{}</span>
      <span class="n">news</span><span class="p">[</span><span class="s1">&#39;No&#39;</span><span class="p">]</span>               <span class="o">=</span> <span class="n">news_per_page</span> <span class="o">*</span> <span class="n">idx</span> <span class="o">+</span> <span class="p">(</span><span class="n">elem</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
      <span class="n">news</span><span class="p">[</span><span class="s1">&#39;Judul Berita&#39;</span><span class="p">]</span>     <span class="o">=</span> <span class="n">titles</span><span class="p">[</span><span class="n">elem</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
      <span class="n">news</span><span class="p">[</span><span class="s1">&#39;Isi Berita&#39;</span><span class="p">]</span>       <span class="o">=</span> <span class="n">get_content</span><span class="p">(</span><span class="n">links</span><span class="p">[</span><span class="n">elem</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">))</span>
      <span class="n">news</span><span class="p">[</span><span class="s1">&#39;Tanggal Berita&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">dates</span><span class="p">[</span><span class="n">elem</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
      <span class="n">news</span><span class="p">[</span><span class="s1">&#39;Kategori Berita&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="n">categories</span><span class="p">[</span><span class="n">elem</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>

      <span class="n">news_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">news</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100%|| 15/15 [00:06&lt;00:00,  2.44it/s]
</pre></div>
</div>
</div>
</div>
</section>
<section id="konversi-ke-dalam-data-frame">
<h3>Konversi ke dalam Data Frame<a class="headerlink" href="#konversi-ke-dalam-data-frame" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">main_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">news_data</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;No&#39;</span><span class="p">)</span>
<span class="n">main_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Judul Berita</th>
      <th>Isi Berita</th>
      <th>Tanggal Berita</th>
      <th>Kategori Berita</th>
    </tr>
    <tr>
      <th>No</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>Jambret Kalung Viral di Medsos, 2 Begal di Sum...</td>
      <td>SUMBAWA, KOMPAS.com - Dua orang begal berinisi...</td>
      <td>10/09/2025</td>
      <td>REGIONAL</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Akhir Kejahatan Komplotan Begal Bengis di Suba...</td>
      <td>SUBANG, KOMPAS.com - Polisi membekuk komplotan...</td>
      <td>10/09/2025</td>
      <td>REGIONAL</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Usai Macan Tutul Kabur, Lembang Park and Zoo S...</td>
      <td>KOMPAS.com - Lembang Park and Zoo (LPZ), Kabup...</td>
      <td>10/09/2025</td>
      <td>PROV</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Media Vietnam Soroti Kegagalan Indonesia Lolos...</td>
      <td>KOMPAS.com - Kegagalan Timnas Indonesia menemb...</td>
      <td>10/09/2025</td>
      <td>TREN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>iPhone 17 Pro dan 17 Pro Max Resmi, Triple Kam...</td>
      <td>KOMPAS.com - Apple akhirnya merilis iPhone 17 ...</td>
      <td>10/09/2025</td>
      <td>TEKNO</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Simak Deretan Mobil Menteri Koperasi Ferry Jul...</td>
      <td>JAKARTA, KOMPAS.com - Ferry Joko Juliantono re...</td>
      <td>10/09/2025</td>
      <td>OTOMOTIF</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Cerita Ustaz Khalid Basalamah Pindah dari Haji...</td>
      <td>JAKARTA, KOMPAS.com - Direktur dan pemilik PT ...</td>
      <td>10/09/2025</td>
      <td>NEWS</td>
    </tr>
    <tr>
      <th>8</th>
      <td>APBD Gorontalo 2026 Terancam Anjlok Rp 200 Mil...</td>
      <td>GORONTALO,KOMPAS.com Anggaran Pendapatan da...</td>
      <td>10/09/2025</td>
      <td>REGIONAL</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Perancis Vs Islandia 2-1, Komentar Mbappe Usai...</td>
      <td>KOMPAS.com - Kylian Mbappe mampu melewati reko...</td>
      <td>10/09/2025</td>
      <td>BOLA</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Menlu Minta Maaf ke Keluarga Zetro, Lalai Lind...</td>
      <td>TANGERANG, KOMPAS.com - Menteri Luar Negeri (M...</td>
      <td>10/09/2025</td>
      <td>NEWS</td>
    </tr>
    <tr>
      <th>11</th>
      <td>4 Saksi Diperiksa, Polisi Buru Sopir Bus ALS U...</td>
      <td>PADANG, KOMPAS.com - Polisi memeriksa empat sa...</td>
      <td>10/09/2025</td>
      <td>REGIONAL</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Tuntutan 17+8 dan Tantangan Legitimasi Perwakilan</td>
      <td>GERAKAN yang populer disebut 17+8 Tuntutan Rak...</td>
      <td>10/09/2025</td>
      <td>NEWS</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Enzy Storia Sempat Anggap Film Yakin Nikah Taw...</td>
      <td>JAKARTA, KOMPAS.com - Aktris Enzy Storia sempa...</td>
      <td>10/09/2025</td>
      <td>HYPE</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Sejarah dan Asal-usul Bana Nasi Uduk, Kuliner ...</td>
      <td>KOMPAS.com -Nasi uduk adalah salah satu kuline...</td>
      <td>10/09/2025</td>
      <td>FOOD</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Setelah PM Mundur, Presiden Nepal Ram Chandra ...</td>
      <td>KOMPAS.com  Presiden Nepal, Ram Chandra Paud...</td>
      <td>10/09/2025</td>
      <td>PROV</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="save-data-to-csv">
<h3>Save data to CSV<a class="headerlink" href="#save-data-to-csv" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">main_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;data_berita.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="web-structur-mining">
<h2>Web Structur Mining<a class="headerlink" href="#web-structur-mining" title="Link to this heading">#</a></h2>
<section id="id1">
<h3>Import Library<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bs4</span><span class="w"> </span><span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">networkx</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nx</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">urllib.parse</span><span class="w"> </span><span class="kn">import</span> <span class="n">urljoin</span><span class="p">,</span> <span class="n">urlparse</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">urllib3</span>
<span class="n">urllib3</span><span class="o">.</span><span class="n">disable_warnings</span><span class="p">(</span><span class="n">urllib3</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">InsecureRequestWarning</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="inisialisasi-variabel-global">
<h3>Inisialisasi Variabel Global<a class="headerlink" href="#inisialisasi-variabel-global" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Variabel global</span>
<span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="n">web_structur</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="fungsi-crawling">
<h3>Fungsi Crawling<a class="headerlink" href="#fungsi-crawling" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">crawl_website</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">base_domain</span><span class="p">,</span> <span class="n">max_depth</span><span class="p">,</span> <span class="n">max_results</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="c1"># Kondisi untuk menghentikan crawl jika sudah mencapai batas maksimal hasil</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">web_structur</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">max_results</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Batas maksimal hasil crawl telah tercapai.&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">visited</span> <span class="ow">or</span> <span class="n">depth</span> <span class="o">&gt;</span> <span class="n">max_depth</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>

        <span class="c1"># Ambil semua link</span>
        <span class="n">links</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">href</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">links</span><span class="p">:</span>
            <span class="c1"># Hentikan loop jika sudah mencapai batas</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">web_structur</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">max_results</span><span class="p">:</span>
                <span class="k">break</span>

            <span class="n">full_url</span> <span class="o">=</span> <span class="n">urljoin</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">link</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">])</span>  <span class="c1"># absolute URL</span>

            <span class="n">web_structur</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span>
                <span class="s2">&quot;link keluar&quot;</span><span class="p">:</span> <span class="n">full_url</span>
            <span class="p">})</span>

            <span class="c1"># Batasi hanya ke domain informatika.trunojoyo.ac.id</span>
            <span class="k">if</span> <span class="n">base_domain</span> <span class="ow">in</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">full_url</span><span class="p">)</span><span class="o">.</span><span class="n">netloc</span><span class="p">:</span>
                <span class="n">crawl_website</span><span class="p">(</span><span class="n">full_url</span><span class="p">,</span> <span class="n">base_domain</span><span class="p">,</span> <span class="n">max_depth</span><span class="p">,</span> <span class="n">max_results</span><span class="p">,</span> <span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error saat akses </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">run_crawler</span><span class="p">(</span><span class="n">start_url</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">max_results</span><span class="o">=</span><span class="mi">500</span><span class="p">):</span>
    <span class="n">base_domain</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">start_url</span><span class="p">)</span><span class="o">.</span><span class="n">netloc</span>
    <span class="n">crawl_website</span><span class="p">(</span><span class="n">start_url</span><span class="p">,</span> <span class="n">base_domain</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="n">max_depth</span><span class="p">,</span> <span class="n">max_results</span><span class="o">=</span><span class="n">max_results</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="eksekusi-crawling">
<h3>Eksekusi Crawling<a class="headerlink" href="#eksekusi-crawling" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">start_url</span> <span class="o">=</span> <span class="s2">&quot;https://informatika.trunojoyo.ac.id/&quot;</span>
<span class="n">run_crawler</span><span class="p">(</span><span class="n">start_url</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Jumlah data hasil crawl: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">web_structur</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Batas maksimal hasil crawl telah tercapai.
Jumlah data hasil crawl: 500
</pre></div>
</div>
</div>
</div>
</section>
<section id="konversi-ke-dataframe-simpan-ke-csv">
<h3>Konversi ke DataFrame &amp; Simpan ke CSV<a class="headerlink" href="#konversi-ke-dataframe-simpan-ke-csv" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">web_structur</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;hasil_crawl.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hasil crawling disimpan ke &#39;hasil_crawl.csv&#39;&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hasil crawling disimpan ke &#39;hasil_crawl.csv&#39;
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>page</th>
      <th>link keluar</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>https://informatika.trunojoyo.ac.id/</td>
      <td>https://informatika.trunojoyo.ac.id/</td>
    </tr>
    <tr>
      <th>1</th>
      <td>https://informatika.trunojoyo.ac.id/</td>
      <td>https://informatika.trunojoyo.ac.id/</td>
    </tr>
    <tr>
      <th>2</th>
      <td>https://informatika.trunojoyo.ac.id/</td>
      <td>https://informatika.trunojoyo.ac.id/bidang-min...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>https://informatika.trunojoyo.ac.id/bidang-min...</td>
      <td>https://informatika.trunojoyo.ac.id/</td>
    </tr>
    <tr>
      <th>4</th>
      <td>https://informatika.trunojoyo.ac.id/bidang-min...</td>
      <td>https://informatika.trunojoyo.ac.id/bidang-min...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>https://informatika.trunojoyo.ac.id/bidang-min...</td>
      <td>https://informatika.trunojoyo.ac.id/bidang-min...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>https://informatika.trunojoyo.ac.id/bidang-min...</td>
      <td>https://informatika.trunojoyo.ac.id/bidang-min...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>https://informatika.trunojoyo.ac.id/bidang-min...</td>
      <td>https://informatika.trunojoyo.ac.id/bidang-min...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>https://informatika.trunojoyo.ac.id/bidang-min...</td>
      <td>https://informatika.trunojoyo.ac.id/bidang-min...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>https://informatika.trunojoyo.ac.id/bidang-min...</td>
      <td>https://labtif.sakera.id/dosen</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="visualisasi-graph-dengan-url-asli">
<h3>Visualisasi Graph dengan URL Asli<a class="headerlink" href="#visualisasi-graph-dengan-url-asli" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">()</span>
<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;page&quot;</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;link keluar&quot;</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s2">&quot;lightgreen&quot;</span><span class="p">,</span>
        <span class="n">font_size</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">arrows</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Graph Link dengan Nama Asli (URL)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;graf_url.png&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/a5e5181b486c11b31ae7c6782804c78c9928637ec98a9ce9c8e4235d503f864f.png" src="../../_images/a5e5181b486c11b31ae7c6782804c78c9928637ec98a9ce9c8e4235d503f864f.png" />
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./task\task3"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../task2/index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Tugas 1 Crawling Sprnger</p>
      </div>
    </a>
    <a class="right-next"
       href="../task4/index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Tugas 3 Preprocessing</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#crawling-pta-trunojoyo">Crawling PTA Trunojoyo</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-package">install package</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-library">import library</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#proses-crawling-pta">Proses Crawling PTA</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menjalankan-fungsi-crawling">Menjalankan fungsi crawling</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#memuat-dan-menampilkan-hasil-crawling">Memuat dan menampilkan hasil crawling</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#crawling-website-berita-online-kompas">Crawling Website Berita Online (kompas)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#persiapan-library">Persiapan Library</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#membuat-fungsi-untuk-persiapan-crawling">Membuat Fungsi untuk Persiapan Crawling</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crawling-data">Crawling Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#konversi-ke-dalam-data-frame">Konversi ke dalam Data Frame</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#save-data-to-csv">Save data to CSV</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#web-structur-mining">Web Structur Mining</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Import Library</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inisialisasi-variabel-global">Inisialisasi Variabel Global</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fungsi-crawling">Fungsi Crawling</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#eksekusi-crawling">Eksekusi Crawling</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#konversi-ke-dataframe-simpan-ke-csv">Konversi ke DataFrame &amp; Simpan ke CSV</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-graph-dengan-url-asli">Visualisasi Graph dengan URL Asli</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Willy Chairullah
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
       Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>